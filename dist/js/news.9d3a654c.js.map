{"version":3,"sources":["webpack:///./src/views/News.vue?72c4","webpack:///./src/views/News.vue?9cc1","webpack:///src/views/News.vue","webpack:///./src/views/News.vue?ea57","webpack:///./src/views/News.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","staticStyle","on","$event","getContent","activeName","model","value","callback","$$v","expression","_l","channel","index","key","finished","immediate","onLoad","loading","item","details","_v","_s","title","src","time","pic","staticRenderFns","data","appkey","channels","list","page","num","mounted","getChannel","methods","axios","get","url","then","$router","push","name","params","beforeRouteEnter","next","beforeRouteLeave","to","from","meta","keepAlive","component"],"mappings":"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","file":"js/news.9d3a654c.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./News.vue?vue&type=style&index=0&id=4a1be048&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./News.vue?vue&type=style&index=0&id=4a1be048&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"news\"}},[_c('mt-header',{attrs:{\"fixed\":\"\",\"title\":\"新闻\"}}),_c('div',{staticClass:\"newsBox\"},[_c('van-tabs',{staticStyle:{\"margin-top\":\"35px\"},attrs:{\"swipeable\":\"\",\"sticky\":\"\"},on:{\"change\":function($event){return _vm.getContent(_vm.activeName)}},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},_vm._l((_vm.channels),function(channel,index){return _c('van-tab',{key:index,attrs:{\"name\":channel,\"title\":channel}},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\",\"immediate-check\":_vm.immediate},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item,index){return _c('ul',{key:index},[_c('li',{on:{\"click\":function($event){return _vm.details(item)}}},[_c('van-row',{attrs:{\"type\":\"flex\",\"justify\":\"space-around\"}},[_c('van-col',{attrs:{\"span\":\"13\"}},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"origin\"},[_c('span',{staticClass:\"author\"},[_vm._v(_vm._s(item.src))]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(item.time))])])]),_c('van-col',{staticClass:\"imgColum\",attrs:{\"span\":\"9\"}},[_c('img',{attrs:{\"src\":item.pic}})])],1)],1)])}),0)],1)}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"news\">\r\n    <mt-header fixed title=\"新闻\"></mt-header>\r\n    <div class=\"newsBox\">\r\n      <van-tabs\r\n        v-model=\"activeName\"\r\n        swipeable\r\n        style=\"margin-top: 35px;\"\r\n        sticky\r\n        @change=\"getContent(activeName)\"\r\n      >\r\n        <van-tab v-for=\"(channel,index) of channels\" :key=\"index\" :name=\"channel\" :title=\"channel\">\r\n          <van-list\r\n            v-model=\"loading\"\r\n            :finished=\"finished\"\r\n            finished-text=\"没有更多了\"\r\n            @load=\"onLoad\"\r\n            :immediate-check=\"immediate\"\r\n          >\r\n            <ul v-for=\"(item, index) of list\" :key=\"index\">\r\n              <li @click=\"details(item)\">\r\n                <van-row type=\"flex\" justify=\"space-around\">\r\n                  <van-col span=\"13\">\r\n                    <div class=\"title\">{{item.title}}</div>\r\n                    <div class=\"origin\">\r\n                      <span class=\"author\">{{item.src}}</span>\r\n                      <span class=\"time\">{{item.time}}</span>\r\n                    </div>\r\n                  </van-col>\r\n                  <van-col span=\"9\" class=\"imgColum\">\r\n                    <img :src=\"item.pic\" />\r\n                  </van-col>\r\n                </van-row>\r\n              </li>\r\n            </ul>\r\n          </van-list>\r\n        </van-tab>\r\n      </van-tabs>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      appkey: \"8f8aa94f10789724\",\r\n      channels: [],\r\n      list: [],\r\n      page: 1,\r\n      num: 10,\r\n      activeName: \"头条\",\r\n      loading: false,\r\n      finished: false,\r\n      immediate: false\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getChannel();\r\n    this.getContent();\r\n  },\r\n  methods: {\r\n    getChannel() {\r\n      let url = `/newsjs/channel?appkey=${this.appkey}`;\r\n      this.axios.get(url).then(res => {\r\n        // console.log(res.data.result);\r\n        this.channels = res.data.result;\r\n      });\r\n    },\r\n    getContent(channel) {\r\n      // console.log(1);\r\n      this.page = 1;\r\n      // console.log(this.num * (this.page - 1));\r\n      let url = `/newsjs/get?channel=${this.activeName}&start=${this.num *\r\n        (this.page - 1)}&num=${this.num}&appkey=${this.appkey}`;\r\n      this.axios.get(url).then(res => {\r\n        // console.log(res.data.result.list);\r\n        this.list = res.data.result.list;\r\n        this.page++;\r\n        // console.log(this.page);\r\n        // console.log(this.list);\r\n        // console.log(this.activeName)\r\n      });\r\n    },\r\n    onLoad() {\r\n      // console.log(2);\r\n      let url = `/newsjs/get?channel=${this.activeName}&start=${this.num *\r\n        (this.page - 1)}&num=${this.num}&appkey=${this.appkey}`;\r\n      this.loading = false;\r\n      this.axios.get(url).then(res => {\r\n        // console.log(res.data.result.list);\r\n        this.list = this.list.concat(res.data.result.list);\r\n        this.page = this.page + 1;\r\n        // console.log(this.page);\r\n        // console.log(this.list);\r\n        // console.log(this.list.length);\r\n        // this.loading = true;\r\n        if (this.list.length >= 400) {\r\n          this.loading = true;\r\n        }\r\n      });\r\n    },\r\n    details(item) {\r\n      this.$router.push({\r\n        name: \"details\",\r\n        params: {\r\n          item: item\r\n        }\r\n      });\r\n    },\r\n    beforeRouteEnter(to, from, next) {\r\n      next();\r\n    },\r\n    beforeRouteLeave(to, from, next) {\r\n      if (to.name === \"details\") {\r\n        from.meta.keepAlive = true;\r\n      }\r\n      to.meta.keepAlive = true;\r\n      next();\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.newsBox {\r\n  margin-top: 40px;\r\n  padding-bottom: 55px;\r\n}\r\n\r\n.newsBox li {\r\n  position: relative;\r\n  height: 95px;\r\n  margin-top: 5px;\r\n  margin-bottom: 10px;\r\n  border-bottom: 1px solid #cfcfcf;\r\n}\r\n\r\n.newsBox li .title {\r\n  color: #000;\r\n}\r\n\r\n.imgColum {\r\n  text-align: center;\r\n}\r\n\r\n.imgColum img {\r\n  border-radius: 5px;\r\n  max-width: 100%;\r\n  max-height: 90px;\r\n}\r\n\r\n.origin {\r\n  position: absolute;\r\n  bottom: 5px;\r\n  font-size: 13px;\r\n  color: #787878;\r\n}\r\n\r\n.origin .time {\r\n  margin-left: 20px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./News.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./News.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./News.vue?vue&type=template&id=4a1be048&scoped=true&\"\nimport script from \"./News.vue?vue&type=script&lang=js&\"\nexport * from \"./News.vue?vue&type=script&lang=js&\"\nimport style0 from \"./News.vue?vue&type=style&index=0&id=4a1be048&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a1be048\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}